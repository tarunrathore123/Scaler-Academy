#include<bits/stdc++.h>
using namespace std;

int binarySearch(vector<int> &A, int B)
{
    int l = 0, r = A.size()-1;
    cout<<r<<" ";
    if(r%2)     r--;

    int ans = -1;
    while(l<=r)
    {
        int mid = (l+r)/2;
        if(mid%2) mid += 1;
        if(A[mid]>B)
        {
            r=mid-2;
        }
        else if(A[mid]<=B)
        {
            ans = mid;
            l=mid+2;
        }
    }  
    return ans;
}
int solve(vector<int> &A, int B) {

    int k = 0, n = A.size();

    // check for even indices
    int ans = binarySearch(A, B);
    
    if(ans == -1 || A[ans] == B || ans+1 == n) return ans;
    
    ans++;

    // Now, value B can be swapped by arr[ans]

    int val = A[ans], ind = -1;
    if(val==B) return ans;

    ind = binarySearch(A, val);

    ind++;
    if(A[ind]==B) return ind;

    return -1;
}



int main(){   
    // vector<int> A{2, 74171, 4, 83124, 6, 70625, 8, 84754, 10, 61894, 12, 8013, 14, 88037, 16, 6711, 18, 82385, 20, 6523, 22, 8952, 815, 64227, 974, 87196, 1251, 84449, 1370, 77850, 1471, 84545, 1563, 7447, 1695, 6703, 1760, 75230, 1804, 6779, 1823, 9127, 1932, 85225, 1994, 80609, 2084, 6628, 2167, 7149, 2198, 67632, 2238, 8775, 2262, 61260, 2274, 8574, 2356, 7094, 2456, 7825, 2472, 60077, 2505, 7610, 2550, 6900, 2593, 7892, 2618, 58780, 2678, 78995, 2716, 8517, 2753, 71968, 2758, 7913, 2847, 7329, 2855, 9410, 2887, 93030, 2935, 57650, 2967, 7168, 2998, 8149, 3017, 6590, 3038, 6659, 3053, 60967, 3086, 65032, 3097, 7476, 3140, 55942, 3181, 9743, 3209, 74015, 3264, 8044, 3300, 7696, 3329, 7591, 3349, 68957, 3484, 74901, 3523, 71288, 3551, 62369, 3585, 78098, 3654, 9020, 3683, 68174, 3731, 57852, 3762, 7251, 3803, 6818, 3853, 8894, 3892, 78695, 3937, 73764, 3985, 6696, 4004, 66549, 4082, 8203, 4117, 92487, 4125, 7555, 4192, 7007, 4238, 6969, 4291, 8631, 4364, 72545, 4430, 55410, 4510, 8094, 4570, 90093, 4635, 72200, 4700, 6473, 4769, 7374, 4875, 6454, 4885, 66875, 4921, 59793, 4941, 64474, 5062, 76205, 5125, 81284, 5203, 8368, 5227, 63729, 5240, 7940, 5266, 9264, 5333, 83068, 5348, 83894, 5452, 56767, 5466, 7814, 5473, 7757, 5556, 6887, 5580, 7348, 5620, 7259, 5689, 9090, 5733, 66308, 5801, 6644, 5832, 7365, 5847, 6746, 5875, 7242, 5960, 10044, 6001, 75455, 6052, 7062, 6108, 9636, 6119, 73164, 6146, 65858, 6168, 6485, 6266, 86054, 6365, 8243, 6372, 76710, 6377, 4880, 6455, 4702, 6481, 6241, 6502, 21, 6544, 3021, 6594, 2143, 6630, 5803, 6651, 3040, 6679, 3993, 6700, 1701, 6706, 17, 6732, 5865, 6749, 1806, 6805, 3842, 6845, 5566, 6896, 2591, 6950, 4257, 7005, 4204, 7044, 6054, 7073, 2357, 7116, 2183, 7166, 2989, 7222, 5920, 7246, 3788, 7257, 5644, 7294, 2853, 7332, 5582, 7355, 5834, 7370, 4829, 7423, 1651, 7458, 3104, 7502, 4179, 7556, 3348, 7597, 2525, 7651, 3312, 7742, 5537, 7763, 5469, 7823, 2459, 7834, 2613, 7899, 2821, 7935, 5253, 7965, 13, 8020, 3265, 8063, 4553, 8124, 3016, 8165, 4108, 8211, 6366, 8291, 5217, 8400, 2735, 8566, 2354, 8595, 4360, 8695, 2242, 8888, 3871, 8911, 774, 9003, 3673, 9028, 5715, 9104, 1901, 9230, 5330, 9294, 2873, 9573, 6109, 9652, 3208, 9926, 5970, 10061, 4439, 55933, 3172, 56641, 5455, 57279, 2941, 57806, 3734, 58443, 2663, 59400, 4927, 59971, 2492, 60247, 3054, 61017, 2264, 61639, 11, 62256, 3580, 63535, 5238, 64000, 850, 64307, 5007, 64680, 3091, 65800, 6157, 66289, 5772, 66330, 4040, 66590, 4894, 67032, 2209, 67666, 3706, 68731, 3418, 70324, 7, 71141, 3545, 71553, 2756, 71991, 4681, 72543, 4370, 73061, 6130, 73696, 3962, 73921, 3251, 74155, 3, 74251, 3519, 75067, 1788, 75293, 6030, 76177, 5072, 76265, 6373, 76760, 1438, 78058, 3586, 78139, 3915, 78925, 2684, 79359, 2056, 80755, 5166, 81966, 19, 82670, 5344, 83108, 5, 83189, 5421, 84275, 1252, 84510, 1503, 84625, 9, 84871, 1944, 85905, 6287, 86513, 1055, 87455, 15, 88703, 4609, 91900, 4122, 92919, 2923};
    // int B = 6749;

    vector<int> A{4,8,10,14,15,2200,3091,4942};
    int B = 4;
    
    cout<<"Ans is "<<solve(A, B);


    return 0;
}

